{% extends "CatQuestipedia/base-template.html" %}
{% load static %}
{% load kebabify %}

{% block title %} Equipment {% endblock %}

{% block content %}
    <h4>{{ game }} Equipment</h4>
    <div>
        <section>
            <h5>Headgear</h5>
            {% for item in Gameid.equipment.all|order_db:"set" %}
                {% if item.type == "Headgear" and item.set_type == "full" %}
                    <div>
                        <a href="{% url "equipment-item" gameid=game itemid=item.name %}">
                             <img src="{{ item.image.url }}" alt="{{ item.name }}">
                            <p>{{ item.name }}</p>
                        </a>
                    </div>
                {% endif %}
            {% endfor %}
        </section>
        <section>
            <h5>Armor</h5>
            {% for item in Gameid.equipment.all|order_db:"set" %}
                {% if item.type == "Armor" and item.set_type == "full" %}
                    <div>
                        <a href="{% url "equipment-item" gameid=game itemid=item.name %}">
                            <img src="{{ item.image.url }}" alt="{{ item.name }}">
                            <p>{{ item.name }}</p>
                       </a>
                    </div>
                {% endif %}
            {% endfor %}
        </section>
        <section>
            <h5>Weapons</h5>
            {% for item in Gameid.equipment.all|order_db:"set" %}
                {% if item.type == "Weapon" and item.set_type == "full" %}
                    <div>
                        <a href="{% url "equipment-item" gameid=game itemid=item.name %}">
                            <img src="{{ item.image.url }}" alt="{{ item.name }}">
                            <p>{{ item.name }}</p>
                       </a>
                    </div>
                {% endif %}
            {% endfor %}
        </section>
    </div>
    <section>
        <h5>Incomplete Sets</h5>
        <section>
            {% for value in Not_full_set %}
                <section>
                    {% filter_equipment_by_set Gameid.id value as item %}
                    {% for value in item %}
                        <div>
                            <a href="{% url "equipment-item" gameid=game itemid=value.name %}">
                                <img src="{{ value.image.url }}" alt="{{ value.name }}">
                                <p>{{ value.name }}</p>
                           </a>
                        </div>
                    {% endfor %}
                    {% empty %}
                    <h6>There are no sets of equipment that do not contain all elements (headgear, armor, weapon) in this game.</h6>
                </section>
            {% endfor %}
        </section>
    </section>
    <section>
        <h5>Individual Items</h5>
        <section>
            {% for item in Gameid.equipment.all %}
                {% if item.set_type == "none" %}
                    <div>
                        <a href="{% url "equipment-item" gameid=game itemid=item.name %}">
                            <img src="{{ item.image.url }}" alt="{{ item.name }}">
                            <p>{{ item.name }}</p>
                       </a>
                    </div>
                {% endif %}
                {% empty %}
                <h6>There are no pieces of equipment that don't belong to any kind of set in this game.</h6>
            {% endfor %}
        </section>
    </section>
{% endblock %}