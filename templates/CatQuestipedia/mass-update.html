{% extends "CatQuestipedia/base-template.html" %}
{% load static %}
{% load kebabify %}

{% block content %}
    <section class="padding tab-btns">
        <button onClick="openTab('equipment')">
            <h4>Equipment</h4>
        </button>
        <button onClick="openTab('spells')">
            <h4>Spells</h4>
        </button>
        <button onClick="openTab('quests')">
            <h4>Quests</h4>
        </button>
    </section>
    <form method="POST">
        {% csrf_token %}
        <article class="padding tab-content" value="equipment">
            {% for item in equipment %}
                {% with 'images/equipment/'|add:item.image  as image_static %}
                    <img src="{% static image_static %}" alt="{{ item.name }}"/>
                {% endwith %}
                <p>{{ item.name }}<p>
                <input type="checkbox" name="equipment-{{ item.name }}1" {% if item.id in owned_equipment.keys %} checked {% endif %}/>
                <input type="number" name="equipment-{{ item.name }}2" {% if item.id in owned_equipment.keys %} placeholder="{{ owned_equipment|get_dict_value:item.id }}" {% else %} placeholder="{{ item.name }}" {% endif %}/>
            {% endfor %}
        </article>
        <article class="padding tab-content" value="spells">
            {% for item in spells %}
                <p>{{ item.name }}<p>
                <input type="checkbox" name="spells-{{ item.name }}1" {% if item.id in known_spells.keys %} checked {% endif %}/>
                <input type="number" name="spells-{{ item.name }}2" {% if item.id in known_spells.keys %} placeholder="{{ known_spells|get_dict_value:item.id }}" {% else %} placeholder="{{ item.name }}" {% endif %}/>
            {% endfor %}
        </article>
        <article class="padding tab-content" value="quests">
            {% for item in quests %}
                <p>{{ item.name }}<p>
                <input type="checkbox" name="{{ item.name }}" {% if item in completed_quests %} checked {% endif %}/>
            {% endfor %}
        </article>
        <input type="submit" value="submit"/>
    </form>
{% endblock %}
